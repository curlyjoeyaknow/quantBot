---
title: Package Dependency Graph
description: Shows build order and dependencies between packages in the monorepo
---

# Package Dependency Graph

## Overview

This diagram illustrates the dependency relationships and build order for all packages in the QuantBot monorepo. The foundation is `@quantbot/core` which has zero dependencies on other workspace packages.

## Key Concepts

- **Build Order**: Packages must be built in dependency order
- **Foundation Layer**: `@quantbot/core` has no workspace dependencies
- **Dependency Flow**: Clear unidirectional flow from foundation to application layers

## Diagram

```mermaid
graph TD
    subgraph foundation[Foundation Layer - Build First]
        core[@quantbot/core<br/>Zero dependencies]
        utils[@quantbot/utils<br/>Depends on core]
    end

    subgraph infrastructure[Infrastructure Layer - Build Second]
        storage[@quantbot/storage<br/>Depends on utils, core]
        observability[@quantbot/observability<br/>Depends on utils, core]
        apiClients[@quantbot/api-clients<br/>Depends on utils, core]
    end

    subgraph services[Service Layer - Build Third]
        ohlcv[@quantbot/ohlcv<br/>Depends on api-clients, storage, utils, core]
        analytics[@quantbot/analytics<br/>Depends on storage, utils, core]
        ingestion[@quantbot/ingestion<br/>Depends on api-clients, ohlcv, storage, analytics, utils, core]
    end

    subgraph application[Application Layer - Build Last]
        simulation[@quantbot/simulation<br/>Depends on utils, core]
        workflows[@quantbot/workflows<br/>Depends on simulation, ohlcv, ingestion, api-clients, storage, utils, core]
        cli[@quantbot/cli<br/>Depends on all packages]
        tui[@quantbot/tui<br/>Depends on all packages]
    end

    core --> utils
    utils --> storage
    utils --> observability
    utils --> apiClients
    core --> storage
    core --> observability
    core --> apiClients

    apiClients --> ohlcv
    storage --> ohlcv
    utils --> ohlcv
    core --> ohlcv

    storage --> analytics
    utils --> analytics
    core --> analytics

    apiClients --> ingestion
    ohlcv --> ingestion
    storage --> ingestion
    analytics --> ingestion
    utils --> ingestion
    core --> ingestion

    utils --> simulation
    core --> simulation

    simulation --> workflows
    ohlcv --> workflows
    ingestion --> workflows
    apiClients --> workflows
    storage --> workflows
    utils --> workflows
    core --> workflows

    workflows --> cli
    workflows --> tui
    simulation --> cli
    ohlcv --> cli
    ingestion --> cli
    apiClients --> cli
    storage --> cli
    utils --> cli
    core --> cli
```

## Related Documentation

- [Build Ordering Rules](../../.cursor/rules/build-ordering.mdc)
- [ARCHITECTURE.md](../ARCHITECTURE.md)

