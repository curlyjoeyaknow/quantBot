---
title: Golden Path - Analytics Pipeline
description: Complete analytics pipeline from Telegram export through ingestion, OHLCV collection, simulation, to analytics
---

# Golden Path - Analytics Pipeline

## Overview

The Golden Path is the core analytics pipeline that transforms raw Telegram exports into actionable trading insights through ingestion, OHLCV collection, simulation, and analytics.

## Key Concepts

- **Telegram Export**: HTML export from Telegram containing caller alerts
- **Ingestion**: Parse and extract token addresses (case-preserved)
- **OHLCV Collection**: Fetch and store candle data
- **Simulation**: Run deterministic backtests
- **Analytics**: Evaluate performance metrics

## Diagram

```mermaid
flowchart TD
    start[Telegram Export<br/>messages.html] --> parse[Parse HTML Export<br/>TelegramCallIngestionService]
    parse --> extract[Extract CA Drops<br/>Mint addresses preserved]
    extract --> upsertTokens[Upsert Tokens<br/>DuckDB tokens_d]
    upsertTokens --> insertAlerts[Insert Alerts<br/>DuckDB alerts_d]
    insertAlerts --> insertCalls[Insert Calls<br/>DuckDB calls_d]
    
    insertCalls --> generateWorklist[Generate OHLCV Worklist<br/>Query calls_d for missing candles]
    generateWorklist --> fetchOhlcv[Fetch OHLCV Data<br/>Jobs Service â†’ Birdeye API]
    fetchOhlcv --> rateLimit[Rate Limiting<br/>Respect API limits]
    rateLimit --> cache[Cache Results<br/>ClickHouse candles_1m, candles_5m]
    cache --> storeDuckdb[Store in DuckDB<br/>ohlcv_candles_d]
    
    storeDuckdb --> queryCalls[Query Calls for Simulation<br/>Filter by date range, caller]
    queryCalls --> fetchCandles[Fetch Candles<br/>Causal Candle Accessor<br/>Gate 2 compliance]
    fetchCandles --> runSimulation[Run Simulation<br/>Pure compute, deterministic]
    runSimulation --> generateResults[Generate Results<br/>Trades, PnL, metrics]
    generateResults --> storeResults[Store Results<br/>DuckDB simulation_runs, simulation_results]
    
    storeResults --> runAnalytics[Run Analytics<br/>ResultAnalyzer]
    runAnalytics --> calculateMetrics[Calculate Metrics<br/>PnL, win rate, risk metrics]
    calculateMetrics --> generateReport[Generate Report<br/>Performance summary]
    generateReport --> end[Analytics Results<br/>JSON/CSV export]
    
    style start fill:#e1f5ff
    style end fill:#d4edda
    style fetchOhlcv fill:#fff3cd
    style runSimulation fill:#f8d7da
    style runAnalytics fill:#d1ecf1
```

## Data Storage Locations

```mermaid
graph LR
    subgraph duckdb[DuckDB Tables]
        tokens[tokens_d]
        alerts[alerts_d]
        calls[calls_d]
        ohlcv[ohlcv_candles_d]
        runs[simulation_runs]
        results[simulation_results]
    end

    subgraph clickhouse[ClickHouse Tables]
        candles1m[candles_1m]
        candles5m[candles_5m]
    end

    tokens --> calls
    alerts --> calls
    calls --> ohlcv
    ohlcv --> runs
    runs --> results
    candles1m --> ohlcv
    candles5m --> ohlcv
```

## Related Documentation

- [README.md](../../README.md) - Golden Path overview
- [OHLCV_ARCHITECTURE.md](../OHLCV_ARCHITECTURE.md)
- [SIMULATION_CONTRACT.md](../SIMULATION_CONTRACT.md)
- [WORKFLOW_ARCHITECTURE.md](../WORKFLOW_ARCHITECTURE.md)

